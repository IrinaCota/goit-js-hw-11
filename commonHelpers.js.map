{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  \n  const API_KEY = '?key=43339942-99901bbe97dd078ee80d94f6e';\n  const SEARCH_PARAMS = `&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = BASE_URL + API_KEY + SEARCH_PARAMS;\n\n  return fetch(url)\n    .then(res => {\n      return res.json();\n    })\n    .catch(err => {\n      throw new Error(err.status);\n    });\n}\n\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const galleryEl = document.querySelector('.gallery');\n\nexport function imageTemplate(data) {\n  const markup = data.hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"card-item\">\n  <a href=${largeImageURL}>\n  <img src=${webformatURL} alt=\"${tags}\" height=\"200\"/>\n    <ul class=\"card-info\">\n      <li>Likes<p>${likes}</p></li>\n      <li>Views<p>${views}</p></li>\n      <li>Comments<p>${comments}</p></li>\n      <li>Downloads<p>${downloads}</p></li>\n    </ul>\n    </a>\n</li>`;\n      }\n    )\n    .join('');\n  galleryEl.insertAdjacentHTML('beforeend', markup);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionDelay: 250,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n  });\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { galleryEl } from './js/render-functions';\nimport { imageTemplate } from './js/render-functions';\n\nconst formEl = document.querySelector('.img-search-form');\nconst loaderEl = document.querySelector('.loader');\n\nformEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.remove('hidden');\n  const query = e.target.elements.query.value.trim();\n  fetchImages(query).then(data => {\n    if (data.totalHits === 0 || query === '') {\n      loaderEl.classList.add('hidden');\n      iziToast.show({\n        message:'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: 'white',\n        backgroundColor: 'red',\n        position: 'topRight',\n      });\n    } else {\n      loaderEl.classList.add('hidden');\n      imageTemplate(data);\n    }\n  });\n  e.target.reset();\n}"],"names":["fetchImages","query","BASE_URL","API_KEY","SEARCH_PARAMS","url","res","err","galleryEl","imageTemplate","data","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","formEl","loaderEl","onFormSubmit","e","iziToast"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CACjC,MAAMC,EAAW,2BAEXC,EAAU,0CACVC,EAAgB,MAAMH,CAAK,2DAE3BI,EAAMH,EAAWC,EAAUC,EAEjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GACGA,EAAI,MACZ,EACA,MAAMC,GAAO,CACZ,MAAM,IAAI,MAAMA,EAAI,MAAM,CAChC,CAAK,CACL,CCZO,MAAMC,EAAY,SAAS,cAAc,UAAU,EAEnD,SAASC,EAAcC,EAAM,CAClC,MAAMC,EAASD,EAAK,KACjB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,YACHL,CAAa;AAAA,aACZD,CAAY,SAASE,CAAI;AAAA;AAAA,oBAElBC,CAAK;AAAA,oBACLC,CAAK;AAAA,uBACFC,CAAQ;AAAA,wBACPC,CAAS;AAAA;AAAA;AAAA,MAK5B,EACA,KAAK,EAAE,EACVV,EAAU,mBAAmB,YAAaG,CAAM,EAE/B,IAAIQ,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,IACd,aAAc,MACd,gBAAiB,QACrB,CAAG,EACQ,QAAO,CAClB,CCjCA,MAAMC,EAAS,SAAS,cAAc,kBAAkB,EAClDC,EAAW,SAAS,cAAc,SAAS,EAEjDD,EAAO,iBAAiB,SAAUE,CAAY,EAE9C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhBf,EAAU,UAAY,GACtBa,EAAS,UAAU,OAAO,QAAQ,EAClC,MAAMpB,EAAQsB,EAAE,OAAO,SAAS,MAAM,MAAM,OAC5CvB,EAAYC,CAAK,EAAE,KAAKS,GAAQ,CAC1BA,EAAK,YAAc,GAAKT,IAAU,IACpCoB,EAAS,UAAU,IAAI,QAAQ,EAC/BG,EAAS,KAAK,CACZ,QAAQ,2EACR,aAAc,QACd,gBAAiB,MACjB,SAAU,UAClB,CAAO,IAEDH,EAAS,UAAU,IAAI,QAAQ,EAC/BZ,EAAcC,CAAI,EAExB,CAAG,EACDa,EAAE,OAAO,OACX"}